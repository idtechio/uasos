{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport { useRouter } from \"next/router\";\nimport React, { useEffect, useRef } from \"react\";\nimport { Authorization } from \"../../hooks/useAuth\";\nexport default function EmailVerificationSubmit() {\n  var oobCodeRef = useRef(null);\n  var router = useRouter();\n  useEffect(function () {\n    var queryParams = new URLSearchParams(window.location.search);\n    oobCodeRef.current = queryParams.get(\"oobCode\");\n\n    (function verifyEmail() {\n      return _regeneratorRuntime.async(function verifyEmail$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!(oobCodeRef && oobCodeRef != null && oobCodeRef.current)) {\n                _context.next = 10;\n                break;\n              }\n\n              _context.prev = 1;\n              _context.next = 4;\n              return _regeneratorRuntime.awrap(Authorization.applyCode(oobCodeRef == null ? void 0 : oobCodeRef.current));\n\n            case 4:\n              router.push(\"/dashboard\");\n              _context.next = 10;\n              break;\n\n            case 7:\n              _context.prev = 7;\n              _context.t0 = _context[\"catch\"](1);\n              router.push(\"/dashboard\");\n\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, [[1, 7]], Promise);\n    })();\n  }, [oobCodeRef, router]);\n  return React.createElement(React.Fragment, null);\n}","map":{"version":3,"sources":["/Users/stanislav.kovalov/Desktop/uasos/apps/next/src/components/EmailVerificationSubmit/index.tsx"],"names":["useRouter","React","useEffect","useRef","Authorization","EmailVerificationSubmit","oobCodeRef","router","queryParams","URLSearchParams","window","location","search","current","get","verifyEmail","applyCode","push"],"mappings":";AAAA,SAASA,SAAT,QAA0B,aAA1B;AACA,OAAOC,KAAP,IAAgBC,SAAhB,EAA2BC,MAA3B,QAAyC,OAAzC;AACA,SAASC,aAAT;AAEA,eAAe,SAASC,uBAAT,GAAmC;AAChD,MAAMC,UAAU,GAAGH,MAAM,CAAgB,IAAhB,CAAzB;AACA,MAAMI,MAAM,GAAGP,SAAS,EAAxB;AAEAE,EAAAA,SAAS,CAAC,YAAM;AACd,QAAMM,WAAW,GAAG,IAAIC,eAAJ,CAAoBC,MAAM,CAACC,QAAP,CAAgBC,MAApC,CAApB;AACAN,IAAAA,UAAU,CAACO,OAAX,GAAqBL,WAAW,CAACM,GAAZ,CAAgB,SAAhB,CAArB;;AACA,KAAC,SAAeC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA,oBACKT,UAAU,IAAIA,UAAJ,YAAIA,UAAU,CAAEO,OAD/B;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,+CAGWT,aAAa,CAACY,SAAd,CAAwBV,UAAxB,oBAAwBA,UAAU,CAAEO,OAApC,CAHX;;AAAA;AAIKN,cAAAA,MAAM,CAACU,IAAP,CAAY,YAAZ;AAJL;AAAA;;AAAA;AAAA;AAAA;AAQKV,cAAAA,MAAM,CAACU,IAAP,CAAY,YAAZ;;AARL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAD;AAYD,GAfQ,EAeN,CAACX,UAAD,EAAaC,MAAb,CAfM,CAAT;AAgBA,SAAO,yCAAP;AACD","sourcesContent":["import { useRouter } from \"next/router\";\nimport React, { useEffect, useRef } from \"react\";\nimport { Authorization } from \"../../hooks/useAuth\";\n\nexport default function EmailVerificationSubmit() {\n  const oobCodeRef = useRef<null | string>(null);\n  const router = useRouter();\n\n  useEffect(() => {\n    const queryParams = new URLSearchParams(window.location.search);\n    oobCodeRef.current = queryParams.get(\"oobCode\");\n    (async function verifyEmail() {\n      if (oobCodeRef && oobCodeRef?.current) {\n        try {\n          await Authorization.applyCode(oobCodeRef?.current);\n          router.push(\"/dashboard\");\n        } catch (error) {\n          // if (error instanceof FirebaseError) {\n          // }\n          router.push(\"/dashboard\");\n        }\n      }\n    })();\n  }, [oobCodeRef, router]);\n  return <></>;\n}\n"]},"metadata":{},"sourceType":"module"}