{"ast":null,"code":"import _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _taggedTemplateLiteralLoose from \"@babel/runtime/helpers/taggedTemplateLiteralLoose\";\nvar _excluded = [\"label\"],\n    _excluded2 = [\"label\"],\n    _excluded3 = [\"label\"];\n\nvar _templateObject;\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport React, { useState, useMemo, useEffect, useContext } from \"react\";\nimport { FormProvider, useForm } from \"react-hook-form\";\nimport { useTranslation } from \"react-i18next\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport styled from \"styled-components/native\";\nimport { AccommodationType, HostType, Nationality } from \"../../helpers/FormTypes\";\nimport { ButtonCta } from \"../Buttons\";\nimport { CompositionSection } from \"../Compositions\";\nimport { InputControl, InputCotrolLabel as InputControlLabel } from \"../Forms\";\nimport FormTextInput from \"../Inputs/FormTextInput\";\nimport FormDropdown from \"../Inputs/FormDropdown\";\nimport FormCityDropdown from \"../Inputs/FormCityDropdown\";\nimport FormCountryDropdown from \"../Inputs/FormCountryDropdown\";\nimport FormNumericInput from \"../Inputs/FormNumericInput\";\nimport FormRadioGroup from \"../Inputs/FormRadioGroup\";\nimport FormButtonsVertical from \"../Inputs/FormButtonsVertcal\";\nimport { accomodationTypeDropdownFields, additionalHostsFeats, GROUP_RELATIONS, OVERNIGHT_DURATION_TYPES } from \"./FormAddHost.data\";\nimport CardModal from \"../CardModal\";\nimport { ThankfulnessModal } from \"../ThankfulnessModal\";\nimport { Error as InputError } from \"../Inputs/style\";\nimport FormCheckbox from \"../Inputs/FormCheckbox\";\nimport { useAddHostToApi, useUpdateHostToApi } from \"../../queries/useOffersList\";\nimport { AuthContext } from \"../../../pages/_app\";\nimport FormGeoAutocomplete from \"../Inputs/FormGeoAutocomplete\";\nexport var SectionContent = styled.View(_templateObject || (_templateObject = _taggedTemplateLiteralLoose([\"\\n  display: flex;\\n  gap: 30px 0;\\n  max-width: 400px;\\n  width: 100%;\\n  margin-right: auto;\\n  margin-left: auto;\\n\"])));\nvar Boolean;\n\n(function (Boolean) {\n  Boolean[\"FALSE\"] = \"FALSE\";\n  Boolean[\"TRUE\"] = \"TRUE\";\n})(Boolean || (Boolean = {}));\n\nvar submitRequestDefaultState = {\n  loading: false,\n  error: null,\n  succeeded: false\n};\nexport default function FormAdHost(_ref) {\n  var _identity$phoneNumber, _errors$advancedHost, _errors$advancedHost2, _errors$advancedHost3, _errors$advancedHost4, _errors$advancedHost5, _errors$advancedHost6, _errors$advancedHost7, _errors$advancedHost8, _errors$advancedHost9, _errors$advancedHost10, _errors$advancedHost11, _errors$advancedHost12, _submitRequstState$er;\n\n  var data = _ref.data;\n\n  var _useTranslation = useTranslation(),\n      t = _useTranslation.t;\n\n  var _useAddHostToApi = useAddHostToApi(),\n      mutateAdd = _useAddHostToApi.mutate,\n      isSubmitLoading = _useAddHostToApi.isLoading,\n      isSubmitSuccess = _useAddHostToApi.isSuccess;\n\n  var _useUpdateHostToApi = useUpdateHostToApi(),\n      mutateUpdate = _useUpdateHostToApi.mutate;\n\n  var _useContext = useContext(AuthContext),\n      identity = _useContext.identity;\n\n  var form = useForm({\n    mode: \"onChange\",\n    defaultValues: {\n      advancedHost: {\n        guestCount: 1,\n        country: \"poland\",\n        volunteerVisitAcceptance: true,\n        groupsTypes: [],\n        phoneNumber: (_identity$phoneNumber = identity == null ? void 0 : identity.phoneNumber) != null ? _identity$phoneNumber : \"\",\n        uploadedPhotos: []\n      }\n    }\n  });\n  useEffect(function () {\n    if (form && data) {\n      form.reset({\n        advancedHost: {\n          country: data != null && data.country ? data.country : \"poland\",\n          city: data != null && data.city ? data.city : \"\",\n          closestLargeCity: data != null && data.closest_city ? data.closest_city : \"\",\n          zipCode: data != null && data.zipcode ? data.zipcode : \"\",\n          street: data != null && data.street ? data.street : \"\",\n          buildingNumber: data != null && data.building_no ? data.building_no : \"\",\n          apartmentNumber: data != null && data.appartment_no ? data.appartment_no : \"\",\n          accommodationType: data != null && data.shelter_type ? data.shelter_type[0] : \"\",\n          accommodationTime: data != null && data.duration_category ? data.duration_category[0] : \"\",\n          hostType: data != null && data.host_type ? data == null ? void 0 : data.host_type[0] : \"\",\n          guestCount: data != null && data.beds ? data.beds : 1,\n          groupsTypes: data != null && data.acceptable_group_relations ? data.acceptable_group_relations : [],\n          transportReady: (data == null ? void 0 : data.transport_included) === Boolean.TRUE,\n          pregnantReady: (data == null ? void 0 : data.ok_for_pregnant) === Boolean.TRUE,\n          disabilityReady: (data == null ? void 0 : data.ok_for_disabilities) === Boolean.TRUE,\n          animalReady: (data == null ? void 0 : data.ok_for_animals) === Boolean.TRUE,\n          elderReady: (data == null ? void 0 : data.ok_for_elderly) === Boolean.TRUE,\n          nationality: (data == null ? void 0 : data.ok_for_any_nationality) === Boolean.TRUE ? Nationality.ANY : (data == null ? void 0 : data.ok_for_any_nationality) === Boolean.FALSE ? Nationality.UKRAINIAN : \"\",\n          volunteerVisitAcceptance: (data == null ? void 0 : data.can_be_verified) === Boolean.TRUE\n        }\n      });\n    }\n  }, [data, form]);\n\n  var _useState = useState(submitRequestDefaultState),\n      _useState2 = _slicedToArray(_useState, 2),\n      submitRequstState = _useState2[0],\n      setSubmitRequstState = _useState2[1];\n\n  var handleSubmit = form.handleSubmit,\n      watch = form.watch,\n      _form$formState = form.formState,\n      errors = _form$formState.errors,\n      isValid = _form$formState.isValid,\n      isSubmitted = _form$formState.isSubmitted;\n  var watchCountry = watch(\"advancedHost.country\");\n  var watchAccomodationTypeFieldValue = form.watch(\"advancedHost.accommodationType\");\n  var volunteerVisitAcceptance = form.watch(\"advancedHost.volunteerVisitAcceptance\");\n  var shouldIncludeHostTypeField = useMemo(function () {\n    return watchAccomodationTypeFieldValue === AccommodationType.BED || watchAccomodationTypeFieldValue === AccommodationType.ROOM;\n  }, [watchAccomodationTypeFieldValue]);\n  var getSubmitButtonTitle = useMemo(function () {\n    return data != null && data.id ? t(\"refugeeAddForm.confirmChangesButton\") : t(\"hostAdd.addButton\");\n  }, [t, data]);\n\n  var onSubmit = function onSubmit(_ref2) {\n    var _identity$phoneNumber2;\n\n    var advancedHost, accommodationTime, accommodationType, animalReady, country, disabilityReady, elderReady, groupsTypes, guestCount, nationality, pregnantReady, city, transportReady, zipCode, street, buildingNumber, apartmentNumber, closestLargeCity, volunteerVisitAcceptance, hostType, payload, mutate;\n    return _regeneratorRuntime.async(function onSubmit$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            advancedHost = _ref2.advancedHost;\n            accommodationTime = advancedHost.accommodationTime, accommodationType = advancedHost.accommodationType, animalReady = advancedHost.animalReady, country = advancedHost.country, disabilityReady = advancedHost.disabilityReady, elderReady = advancedHost.elderReady, groupsTypes = advancedHost.groupsTypes, guestCount = advancedHost.guestCount, nationality = advancedHost.nationality, pregnantReady = advancedHost.pregnantReady, city = advancedHost.city, transportReady = advancedHost.transportReady, zipCode = advancedHost.zipCode, street = advancedHost.street, buildingNumber = advancedHost.buildingNumber, apartmentNumber = advancedHost.apartmentNumber, closestLargeCity = advancedHost.closestLargeCity, volunteerVisitAcceptance = advancedHost.volunteerVisitAcceptance, hostType = advancedHost.hostType;\n            setSubmitRequstState(function (state) {\n              return _objectSpread(_objectSpread({}, state), {}, {\n                loading: true\n              });\n            });\n            payload = {\n              id: data != null && data.id ? data.id : undefined,\n              country: country,\n              phone_num: (_identity$phoneNumber2 = identity == null ? void 0 : identity.phoneNumber) != null ? _identity$phoneNumber2 : \"\",\n              city: city,\n              shelter_type: [accommodationType],\n              host_type: shouldIncludeHostTypeField ? [hostType] : [],\n              acceptable_group_relations: groupsTypes,\n              beds: guestCount,\n              ok_for_pregnant: pregnantReady ? Boolean.TRUE : Boolean.FALSE,\n              ok_for_disabilities: disabilityReady ? Boolean.TRUE : Boolean.FALSE,\n              ok_for_animals: animalReady ? Boolean.TRUE : Boolean.FALSE,\n              ok_for_elderly: elderReady ? Boolean.TRUE : Boolean.FALSE,\n              ok_for_any_nationality: nationality === Nationality.ANY ? Boolean.TRUE : Boolean.FALSE,\n              duration_category: [accommodationTime],\n              transport_included: transportReady ? Boolean.TRUE : Boolean.FALSE,\n              closest_city: closestLargeCity,\n              zipcode: zipCode,\n              street: street,\n              building_no: buildingNumber,\n              appartment_no: apartmentNumber != null ? apartmentNumber : \"\",\n              can_be_verified: volunteerVisitAcceptance ? Boolean.TRUE : Boolean.FALSE\n            };\n\n            mutate = function mutate(payload, callbacks) {\n              if (data != null && data.id) {\n                mutateUpdate(_objectSpread(_objectSpread({}, data), payload), callbacks);\n                return;\n              }\n\n              mutateAdd(payload, callbacks);\n            };\n\n            setSubmitRequstState(function (state) {\n              return _objectSpread(_objectSpread({}, state), {}, {\n                loading: true\n              });\n            });\n            mutate(payload, {\n              onSuccess: function onSuccess() {\n                setSubmitRequstState(function (state) {\n                  return _objectSpread(_objectSpread({}, state), {}, {\n                    succeeded: true\n                  });\n                });\n              },\n              onError: function onError(error) {\n                setSubmitRequstState(function (state) {\n                  return _objectSpread(_objectSpread({}, state), {}, {\n                    error: error\n                  });\n                });\n              },\n              onSettled: function onSettled() {\n                setSubmitRequstState(function (state) {\n                  return _objectSpread(_objectSpread({}, state), {}, {\n                    loading: false\n                  });\n                });\n              }\n            });\n\n          case 7:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  return React.createElement(FormProvider, form, submitRequstState.loading && React.createElement(CardModal, {\n    closeable: false\n  }, React.createElement(ActivityIndicator, {\n    size: \"large\"\n  })), submitRequstState.succeeded && React.createElement(ThankfulnessModal, {\n    onClose: function onClose() {\n      return setSubmitRequstState(submitRequestDefaultState);\n    },\n    headerText: t(\"thankfulnessHostModal.thankYou\"),\n    subHeaderText: t(\"thankfulnessHostModal.applicationSent\"),\n    contentText: t(\"thankfulnessHostModal.informWhenAccomodationFound\")\n  }), React.createElement(CompositionSection, {\n    padding: [35, 30, 20, 30],\n    header: t(\"others:forms.createShelter.accommodationHeader\"),\n    subHeader: t(\"hostAdd.hostAddressProcessingWarning\"),\n    zIndex: 3\n  }, React.createElement(SectionContent, null, React.createElement(View, {\n    style: {\n      zIndex: 5\n    }\n  }, React.createElement(InputControlLabel, null, t(\"hostAdd.country\")), React.createElement(FormCountryDropdown, {\n    zIndex: 14,\n    placeholder: t(\"hostAdd.country\"),\n    name: \"advancedHost.country\",\n    rules: {\n      required: true\n    },\n    error: errors == null ? void 0 : (_errors$advancedHost = errors.advancedHost) == null ? void 0 : _errors$advancedHost.country,\n    errorMsg: t(\"hostAdd.errors.country\")\n  })), React.createElement(View, {\n    style: {\n      zIndex: 4\n    }\n  }, React.createElement(InputControlLabel, null, t(\"others:forms.generic.closestLargeCity\")), React.createElement(FormCityDropdown, {\n    zIndex: 13,\n    country: watchCountry,\n    name: \"advancedHost.closestLargeCity\",\n    placeholder: t(\"refugeeAddForm.cityPlaceholder\"),\n    rules: {\n      required: true\n    },\n    error: errors == null ? void 0 : (_errors$advancedHost2 = errors.advancedHost) == null ? void 0 : _errors$advancedHost2.closestLargeCity,\n    errorMsg: t(\"validations.requiredTown\")\n  })), React.createElement(View, {\n    style: [styles.flexInputs, {\n      zIndex: 2\n    }]\n  }, React.createElement(View, {\n    style: styles.inputWrapper\n  }, React.createElement(InputControlLabel, null, t(\"others:forms.generic.zipCode\")), React.createElement(FormTextInput, {\n    name: \"advancedHost.zipCode\",\n    label: t(\"others:forms.generic.zipCode\"),\n    error: errors == null ? void 0 : (_errors$advancedHost3 = errors.advancedHost) == null ? void 0 : _errors$advancedHost3.zipCode,\n    rules: {\n      required: true\n    }\n  })), React.createElement(View, {\n    style: [styles.inputWrapper, {\n      zIndex: 6\n    }]\n  }, React.createElement(InputControlLabel, null, t(\"refugeeAddForm.cityPlaceholder\")), React.createElement(FormGeoAutocomplete, {\n    name: \"advancedHost.city\",\n    placeholder: t(\"refugeeAddForm.cityPlaceholder\"),\n    error: errors == null ? void 0 : (_errors$advancedHost4 = errors.advancedHost) == null ? void 0 : _errors$advancedHost4.city,\n    rules: {\n      required: true\n    }\n  }))), React.createElement(View, null, React.createElement(InputControlLabel, null, t(\"others:forms.createShelter.street\")), React.createElement(FormTextInput, {\n    name: \"advancedHost.street\",\n    label: t(\"others:forms.createShelter.street\"),\n    error: errors == null ? void 0 : (_errors$advancedHost5 = errors.advancedHost) == null ? void 0 : _errors$advancedHost5.street,\n    rules: {\n      required: true\n    }\n  })), React.createElement(View, {\n    style: styles.flexInputs\n  }, React.createElement(View, {\n    style: styles.inputWrapper\n  }, React.createElement(InputControlLabel, null, t(\"others:forms.createShelter.buildingNo\")), React.createElement(FormTextInput, {\n    name: \"advancedHost.buildingNumber\",\n    label: t(\"others:forms.createShelter.buildingNo\"),\n    error: errors == null ? void 0 : (_errors$advancedHost6 = errors.advancedHost) == null ? void 0 : _errors$advancedHost6.buildingNumber,\n    rules: {\n      required: true\n    }\n  })), React.createElement(View, {\n    style: styles.inputWrapper\n  }, React.createElement(InputControlLabel, null, t(\"others:forms.createShelter.apartmentNo\")), React.createElement(FormTextInput, {\n    name: \"advancedHost.apartmentNumber\",\n    label: t(\"others:forms.createShelter.apartmentNo\"),\n    error: errors == null ? void 0 : (_errors$advancedHost7 = errors.advancedHost) == null ? void 0 : _errors$advancedHost7.apartmentNumber,\n    rules: {\n      required: false\n    }\n  }))))), React.createElement(CompositionSection, {\n    padding: [35, 30, 8, 30],\n    backgroundColor: \"#F5F4F4\",\n    zIndex: 2\n  }, React.createElement(SectionContent, null, React.createElement(View, {\n    style: {\n      zIndex: 100\n    }\n  }, React.createElement(InputControlLabel, null, t(\"hostAdd.type\")), React.createElement(FormDropdown, {\n    zIndex: 12,\n    data: accomodationTypeDropdownFields.map(function (_ref3) {\n      var label = _ref3.label,\n          rest = _objectWithoutProperties(_ref3, _excluded);\n\n      return _objectSpread({\n        label: t(label)\n      }, rest);\n    }),\n    name: \"advancedHost.accommodationType\",\n    placeholder: t(\"forms.chooseFromList\"),\n    rules: {\n      required: true\n    },\n    error: errors == null ? void 0 : (_errors$advancedHost8 = errors.advancedHost) == null ? void 0 : _errors$advancedHost8.accommodationType,\n    errorMsg: t(\"hostAdd.errors.type\")\n  })), shouldIncludeHostTypeField && React.createElement(View, {\n    style: {\n      zIndex: 1\n    }\n  }, React.createElement(InputControlLabel, null, t(\"hostAdd.hostType\")), React.createElement(FormDropdown, {\n    data: Object.keys(HostType).map(function (key) {\n      return {\n        value: HostType[key],\n        label: t(\"hostAdd.hostTypeLabel.\" + String(HostType[key]))\n      };\n    }),\n    name: \"advancedHost.hostType\",\n    placeholder: t(\"forms.chooseFromList\"),\n    rules: {\n      required: shouldIncludeHostTypeField\n    },\n    error: errors == null ? void 0 : (_errors$advancedHost9 = errors.advancedHost) == null ? void 0 : _errors$advancedHost9.hostType,\n    errorMsg: t(\"hostAdd.errors.hostType\"),\n    zIndex: 11\n  })), React.createElement(View, null, React.createElement(InputControlLabel, null, t(\"hostAdd.guestCount\")), React.createElement(FormNumericInput, {\n    name: \"advancedHost.guestCount\",\n    rules: {\n      required: true\n    },\n    min: 1,\n    error: errors == null ? void 0 : (_errors$advancedHost10 = errors.advancedHost) == null ? void 0 : _errors$advancedHost10.guestCount,\n    errorMsg: t(\"hostAdd.errors.guestCount\")\n  }), \" \"), React.createElement(View, null, React.createElement(InputControlLabel, null, t(\"refugeeAddForm.overnightDurationLabel\")), React.createElement(FormRadioGroup, {\n    name: t(\"advancedHost.accommodationTime\"),\n    rules: {\n      required: true\n    },\n    data: OVERNIGHT_DURATION_TYPES.map(function (_ref4) {\n      var label = _ref4.label,\n          rest = _objectWithoutProperties(_ref4, _excluded2);\n\n      return _objectSpread({\n        label: t(label)\n      }, rest);\n    }),\n    error: errors == null ? void 0 : (_errors$advancedHost11 = errors.advancedHost) == null ? void 0 : _errors$advancedHost11.accommodationTime,\n    errorMsg: t(\"hostAdd.errors.accommodationTime\")\n  })))), React.createElement(CompositionSection, {\n    padding: [35, 30, 8, 30],\n    header: t(\"hostAdd.additionalInformationHeader\"),\n    zIndex: 1\n  }, React.createElement(SectionContent, null, React.createElement(View, null, React.createElement(InputControlLabel, null, t(\"hostAdd.nationality\")), React.createElement(FormRadioGroup, {\n    name: \"advancedHost.nationality\",\n    rules: {\n      required: true\n    },\n    data: [{\n      label: t(\"hostAdd.ukraine\"),\n      value: Nationality.UKRAINIAN\n    }, {\n      label: t(\"hostAdd.any\"),\n      value: Nationality.ANY\n    }],\n    errorMsg: t(\"hostAdd.errors.nationalityError\")\n  })), React.createElement(View, {\n    style: {\n      zIndex: 1\n    }\n  }, React.createElement(InputControlLabel, null, t(\"others:forms.createShelter.groupsHostAccepts\")), React.createElement(FormDropdown, {\n    multiSelect: true,\n    zIndex: 11,\n    data: GROUP_RELATIONS.map(function (_ref5) {\n      var label = _ref5.label,\n          value = _ref5.value;\n      return {\n        label: t(label),\n        value: value\n      };\n    }),\n    name: \"advancedHost.groupsTypes\",\n    placeholder: t(\"forms.chooseFromListMulti\"),\n    rules: {\n      required: true\n    },\n    error: errors == null ? void 0 : (_errors$advancedHost12 = errors.advancedHost) == null ? void 0 : _errors$advancedHost12.groupsTypes,\n    errorMsg: t(\"refugeeAddForm.errors.groupRelations\")\n  })), React.createElement(FormButtonsVertical, {\n    data: additionalHostsFeats.map(function (_ref6) {\n      var label = _ref6.label,\n          rest = _objectWithoutProperties(_ref6, _excluded3);\n\n      return _objectSpread({\n        label: t(label)\n      }, rest);\n    })\n  }))), React.createElement(CompositionSection, {\n    padding: [35, 30, 8, 30],\n    backgroundColor: \"#F5F4F4\"\n  }, React.createElement(FormCheckbox, {\n    rules: {\n      required: false\n    },\n    value: volunteerVisitAcceptance,\n    name: \"advancedHost.volunteerVisitAcceptance\",\n    label: t(\"hostAdd.volunteerVisitAcceptance\")\n  })), React.createElement(CompositionSection, {\n    padding: [0, 30, 31, 30],\n    backgroundColor: \"#F5F4F4\"\n  }, React.createElement(InputControl, null, React.createElement(ButtonCta, {\n    onPress: handleSubmit(onSubmit),\n    anchor: getSubmitButtonTitle,\n    style: styles.addButton\n  }), isSubmitted && !isValid && !isSubmitLoading && !isSubmitSuccess && React.createElement(View, {\n    style: styles.errorWrapper\n  }, React.createElement(InputError, null, t(\"refugeeAddForm.addButtomErrorMessage\"))), isSubmitted && ((_submitRequstState$er = submitRequstState.error) == null ? void 0 : _submitRequstState$er.message) && React.createElement(View, {\n    style: styles.errorWrapper\n  }, React.createElement(InputError, null, submitRequstState.error.message)))));\n}\nvar styles = StyleSheet.create({\n  addButton: {\n    alignSelf: \"flex-end\",\n    paddingHorizontal: 20,\n    cursor: \"pointer\"\n  },\n  errorWrapper: {\n    marginTop: 5,\n    alignSelf: \"flex-end\"\n  },\n  formWrapper: {\n    maxWidth: \"500px\",\n    width: \"100%\"\n  },\n  tooltipText: {\n    marginHorizontal: 10\n  },\n  flexInputs: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    gap: \"0px 15px\"\n  },\n  inputWrapper: {\n    flexShrink: 1\n  }\n});","map":{"version":3,"sources":["/Users/stanislav.kovalov/Desktop/uasos/apps/next/src/components/FormAdHost/index.tsx"],"names":["React","useState","useMemo","useEffect","useContext","FormProvider","useForm","useTranslation","styled","AccommodationType","HostType","Nationality","ButtonCta","CompositionSection","InputControl","InputCotrolLabel","InputControlLabel","FormTextInput","FormDropdown","FormCityDropdown","FormCountryDropdown","FormNumericInput","FormRadioGroup","FormButtonsVertical","accomodationTypeDropdownFields","additionalHostsFeats","GROUP_RELATIONS","OVERNIGHT_DURATION_TYPES","CardModal","ThankfulnessModal","Error","InputError","FormCheckbox","useAddHostToApi","useUpdateHostToApi","AuthContext","FormGeoAutocomplete","SectionContent","View","Boolean","submitRequestDefaultState","loading","error","succeeded","FormAdHost","data","t","mutateAdd","mutate","isSubmitLoading","isLoading","isSubmitSuccess","isSuccess","mutateUpdate","identity","form","mode","defaultValues","advancedHost","guestCount","country","volunteerVisitAcceptance","groupsTypes","phoneNumber","uploadedPhotos","reset","city","closestLargeCity","closest_city","zipCode","zipcode","street","buildingNumber","building_no","apartmentNumber","appartment_no","accommodationType","shelter_type","accommodationTime","duration_category","hostType","host_type","beds","acceptable_group_relations","transportReady","transport_included","TRUE","pregnantReady","ok_for_pregnant","disabilityReady","ok_for_disabilities","animalReady","ok_for_animals","elderReady","ok_for_elderly","nationality","ok_for_any_nationality","ANY","FALSE","UKRAINIAN","can_be_verified","submitRequstState","setSubmitRequstState","handleSubmit","watch","formState","errors","isValid","isSubmitted","watchCountry","watchAccomodationTypeFieldValue","shouldIncludeHostTypeField","BED","ROOM","getSubmitButtonTitle","id","onSubmit","state","payload","undefined","phone_num","callbacks","onSuccess","onError","onSettled","zIndex","required","styles","flexInputs","inputWrapper","map","label","rest","Object","keys","key","value","String","addButton","errorWrapper","message","StyleSheet","create","alignSelf","paddingHorizontal","cursor","marginTop","formWrapper","maxWidth","width","tooltipText","marginHorizontal","display","flexDirection","gap","flexShrink"],"mappings":"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","sourcesContent":["import React, { useState, useMemo, useEffect, useContext } from \"react\";\nimport { FormProvider, SubmitHandler, useForm } from \"react-hook-form\";\nimport { useTranslation } from \"react-i18next\";\nimport { ActivityIndicator, View, StyleSheet } from \"react-native\";\nimport styled from \"styled-components/native\";\n\nimport {\n  AccommodationType,\n  FormType,\n  HostType,\n  Nationality,\n} from \"../../helpers/FormTypes\";\nimport { ButtonCta } from \"../Buttons\";\n\nimport { CompositionSection } from \"../Compositions\";\nimport { InputControl, InputCotrolLabel as InputControlLabel } from \"../Forms\";\nimport FormTextInput from \"../Inputs/FormTextInput\";\nimport FormDropdown from \"../Inputs/FormDropdown\";\nimport FormCityDropdown from \"../Inputs/FormCityDropdown\";\nimport FormCountryDropdown from \"../Inputs/FormCountryDropdown\";\nimport FormNumericInput from \"../Inputs/FormNumericInput\";\nimport FormRadioGroup from \"../Inputs/FormRadioGroup\";\nimport FormButtonsVertical from \"../Inputs/FormButtonsVertcal\";\nimport {\n  accomodationTypeDropdownFields,\n  additionalHostsFeats,\n  GROUP_RELATIONS,\n  OVERNIGHT_DURATION_TYPES,\n} from \"./FormAddHost.data\";\nimport CardModal from \"../CardModal\";\nimport { ThankfulnessModal } from \"../ThankfulnessModal\";\nimport { Error as InputError } from \"../Inputs/style\";\nimport FormCheckbox from \"../Inputs/FormCheckbox\";\nimport {\n  useAddHostToApi,\n  useUpdateHostToApi,\n} from \"../../queries/useOffersList\";\nimport { OfferProps } from \"../../../pages/api/listing/offers\";\nimport { AuthContext } from \"../../../pages/_app\";\n// import FormUpload from \"../Inputs/FormUpload\";\nimport { HostProps as AddHostProps } from \"../../../pages/api/hosts/add\";\nimport { HostProps as EditHostProps } from \"../../../pages/api/hosts/edit\";\nimport FormGeoAutocomplete from \"../Inputs/FormGeoAutocomplete\";\n\nexport const SectionContent = styled.View`\n  display: flex;\n  gap: 30px 0;\n  max-width: 400px;\n  width: 100%;\n  margin-right: auto;\n  margin-left: auto;\n`;\n\nenum Boolean {\n  FALSE = \"FALSE\",\n  TRUE = \"TRUE\",\n}\n\ntype SubmitRequestState = {\n  loading: boolean;\n  error: Error | null | unknown;\n  succeeded: boolean;\n};\n\nconst submitRequestDefaultState = {\n  loading: false,\n  error: null,\n  succeeded: false,\n};\n\ntype FormAdHostProps = {\n  data: OfferProps | null;\n};\n\ntype MutateCallbacks = {\n  onSuccess: () => void;\n  onError: (error: Error | unknown) => void;\n  onSettled: () => void;\n};\n\nexport default function FormAdHost({ data }: FormAdHostProps) {\n  const { t } = useTranslation();\n  const {\n    mutate: mutateAdd,\n    isLoading: isSubmitLoading,\n    isSuccess: isSubmitSuccess,\n  } = useAddHostToApi();\n  const { mutate: mutateUpdate } = useUpdateHostToApi();\n  const { identity } = useContext(AuthContext);\n\n  const form = useForm<FormType>({\n    mode: \"onChange\",\n    defaultValues: {\n      advancedHost: {\n        guestCount: 1,\n        country: \"poland\",\n        volunteerVisitAcceptance: true,\n        groupsTypes: [],\n        phoneNumber: identity?.phoneNumber ?? \"\",\n        uploadedPhotos: [],\n      },\n    },\n  });\n\n  useEffect(() => {\n    if (form && data) {\n      form.reset({\n        advancedHost: {\n          country: data?.country ? data.country : \"poland\",\n          city: data?.city ? data.city : \"\",\n          closestLargeCity: data?.closest_city ? data.closest_city : \"\",\n          zipCode: data?.zipcode ? data.zipcode : \"\",\n          street: data?.street ? data.street : \"\",\n          buildingNumber: data?.building_no ? data.building_no : \"\",\n          apartmentNumber: data?.appartment_no ? data.appartment_no : \"\",\n          accommodationType: data?.shelter_type ? data.shelter_type[0] : \"\",\n          accommodationTime: data?.duration_category\n            ? data.duration_category[0]\n            : \"\",\n          hostType: data?.host_type ? data?.host_type[0] : \"\",\n          guestCount: data?.beds ? data.beds : 1,\n          groupsTypes: data?.acceptable_group_relations\n            ? data.acceptable_group_relations\n            : [],\n          transportReady: data?.transport_included === Boolean.TRUE,\n          pregnantReady: data?.ok_for_pregnant === Boolean.TRUE,\n          disabilityReady: data?.ok_for_disabilities === Boolean.TRUE,\n          animalReady: data?.ok_for_animals === Boolean.TRUE,\n          elderReady: data?.ok_for_elderly === Boolean.TRUE,\n          nationality:\n            data?.ok_for_any_nationality === Boolean.TRUE\n              ? Nationality.ANY\n              : data?.ok_for_any_nationality === Boolean.FALSE\n              ? Nationality.UKRAINIAN\n              : \"\",\n          volunteerVisitAcceptance: data?.can_be_verified === Boolean.TRUE,\n        },\n      });\n    }\n  }, [data, form]);\n\n  const [submitRequstState, setSubmitRequstState] =\n    useState<SubmitRequestState>(submitRequestDefaultState);\n\n  const {\n    handleSubmit,\n    watch,\n    formState: { errors, isValid, isSubmitted },\n  } = form;\n\n  const watchCountry = watch(\"advancedHost.country\");\n\n  const watchAccomodationTypeFieldValue = form.watch(\n    \"advancedHost.accommodationType\"\n  );\n\n  const volunteerVisitAcceptance = form.watch(\n    \"advancedHost.volunteerVisitAcceptance\"\n  ) as unknown as boolean;\n\n  const shouldIncludeHostTypeField = useMemo(\n    () =>\n      watchAccomodationTypeFieldValue === AccommodationType.BED ||\n      watchAccomodationTypeFieldValue === AccommodationType.ROOM,\n    [watchAccomodationTypeFieldValue]\n  );\n\n  const getSubmitButtonTitle = useMemo(\n    () =>\n      data?.id\n        ? t(\"refugeeAddForm.confirmChangesButton\")\n        : t(\"hostAdd.addButton\"),\n    [t, data]\n  );\n\n  const onSubmit: SubmitHandler<FormType> = async ({ advancedHost }) => {\n    const {\n      accommodationTime,\n      accommodationType,\n      animalReady,\n      country,\n      disabilityReady,\n      elderReady,\n      groupsTypes,\n      guestCount,\n      nationality,\n      pregnantReady,\n      city,\n      transportReady,\n      zipCode,\n      street,\n      buildingNumber,\n      apartmentNumber,\n      closestLargeCity,\n      volunteerVisitAcceptance,\n      hostType,\n    } = advancedHost;\n\n    setSubmitRequstState((state) => ({ ...state, loading: true }));\n\n    const payload: AddHostProps | EditHostProps = {\n      id: data?.id ? data.id : undefined,\n      country: country,\n      phone_num: identity?.phoneNumber ?? \"\",\n      city: city,\n      shelter_type: [accommodationType],\n      host_type: shouldIncludeHostTypeField ? [hostType] : [],\n      acceptable_group_relations: groupsTypes,\n      beds: guestCount,\n      ok_for_pregnant: pregnantReady ? Boolean.TRUE : Boolean.FALSE,\n      ok_for_disabilities: disabilityReady ? Boolean.TRUE : Boolean.FALSE,\n      ok_for_animals: animalReady ? Boolean.TRUE : Boolean.FALSE,\n      ok_for_elderly: elderReady ? Boolean.TRUE : Boolean.FALSE,\n      ok_for_any_nationality:\n        nationality === Nationality.ANY ? Boolean.TRUE : Boolean.FALSE,\n      duration_category: [accommodationTime],\n      transport_included: transportReady ? Boolean.TRUE : Boolean.FALSE,\n      closest_city: closestLargeCity,\n      zipcode: zipCode,\n      street: street,\n      building_no: buildingNumber,\n      appartment_no: apartmentNumber ?? \"\",\n      can_be_verified: volunteerVisitAcceptance ? Boolean.TRUE : Boolean.FALSE,\n    };\n\n    const mutate = (\n      payload: AddHostProps | EditHostProps,\n      callbacks: MutateCallbacks\n    ) => {\n      if (data?.id) {\n        mutateUpdate({ ...data, ...payload } as OfferProps, callbacks);\n        return;\n      }\n\n      mutateAdd(payload as AddHostProps, callbacks);\n    };\n\n    setSubmitRequstState((state) => ({ ...state, loading: true }));\n\n    mutate(payload, {\n      onSuccess: () => {\n        setSubmitRequstState((state) => ({ ...state, succeeded: true }));\n      },\n      onError: (error) => {\n        setSubmitRequstState((state) => ({ ...state, error }));\n      },\n      onSettled: () => {\n        setSubmitRequstState((state) => ({ ...state, loading: false }));\n      },\n    });\n  };\n\n  return (\n    <FormProvider {...form}>\n      {submitRequstState.loading && (\n        <CardModal closeable={false}>\n          <ActivityIndicator size=\"large\" />\n        </CardModal>\n      )}\n\n      {/* TODO: Form error handling submitRequstState.error && ... */}\n\n      {submitRequstState.succeeded && (\n        <ThankfulnessModal\n          onClose={() => setSubmitRequstState(submitRequestDefaultState)}\n          headerText={t(\"thankfulnessHostModal.thankYou\")}\n          subHeaderText={t(\"thankfulnessHostModal.applicationSent\")}\n          contentText={t(\"thankfulnessHostModal.informWhenAccomodationFound\")}\n        />\n      )}\n\n      <CompositionSection\n        padding={[35, 30, 20, 30]}\n        header={t(\"others:forms.createShelter.accommodationHeader\")}\n        subHeader={t(\"hostAdd.hostAddressProcessingWarning\")}\n        zIndex={3}\n      >\n        <SectionContent>\n          <View\n            style={{\n              zIndex: 5,\n            }}\n          >\n            <InputControlLabel>{t(\"hostAdd.country\")}</InputControlLabel>\n            <FormCountryDropdown\n              zIndex={14}\n              placeholder={t(\"hostAdd.country\")}\n              name=\"advancedHost.country\"\n              rules={{\n                required: true,\n              }}\n              error={errors?.advancedHost?.country}\n              errorMsg={t(\"hostAdd.errors.country\")}\n            />\n          </View>\n\n          <View\n            style={{\n              zIndex: 4,\n            }}\n          >\n            <InputControlLabel>\n              {t(\"others:forms.generic.closestLargeCity\")}\n            </InputControlLabel>\n            <FormCityDropdown\n              zIndex={13}\n              country={watchCountry}\n              name=\"advancedHost.closestLargeCity\"\n              placeholder={t(\"refugeeAddForm.cityPlaceholder\")}\n              rules={{\n                required: true,\n              }}\n              error={errors?.advancedHost?.closestLargeCity}\n              errorMsg={t(\"validations.requiredTown\")}\n            />\n          </View>\n\n          <View style={[styles.flexInputs, { zIndex: 2 }]}>\n            <View style={styles.inputWrapper}>\n              <InputControlLabel>\n                {t(\"others:forms.generic.zipCode\")}\n              </InputControlLabel>\n              <FormTextInput\n                name=\"advancedHost.zipCode\"\n                label={t(\"others:forms.generic.zipCode\")}\n                error={errors?.advancedHost?.zipCode}\n                rules={{\n                  required: true,\n                }}\n              />\n            </View>\n            <View style={[styles.inputWrapper, { zIndex: 6 }]}>\n              <InputControlLabel>\n                {t(\"refugeeAddForm.cityPlaceholder\")}\n              </InputControlLabel>\n\n              <FormGeoAutocomplete\n                name=\"advancedHost.city\"\n                placeholder={t(\"refugeeAddForm.cityPlaceholder\")}\n                error={errors?.advancedHost?.city}\n                rules={{\n                  required: true,\n                }}\n              />\n            </View>\n          </View>\n\n          <View>\n            <InputControlLabel>\n              {t(\"others:forms.createShelter.street\")}\n            </InputControlLabel>\n            <FormTextInput\n              name=\"advancedHost.street\"\n              label={t(\"others:forms.createShelter.street\")}\n              error={errors?.advancedHost?.street}\n              rules={{\n                required: true,\n              }}\n            />\n          </View>\n\n          <View style={styles.flexInputs}>\n            <View style={styles.inputWrapper}>\n              <InputControlLabel>\n                {t(\"others:forms.createShelter.buildingNo\")}\n              </InputControlLabel>\n              <FormTextInput\n                name=\"advancedHost.buildingNumber\"\n                label={t(\"others:forms.createShelter.buildingNo\")}\n                error={errors?.advancedHost?.buildingNumber}\n                rules={{\n                  required: true,\n                }}\n              />\n            </View>\n            <View style={styles.inputWrapper}>\n              <InputControlLabel>\n                {t(\"others:forms.createShelter.apartmentNo\")}\n              </InputControlLabel>\n              <FormTextInput\n                name=\"advancedHost.apartmentNumber\"\n                label={t(\"others:forms.createShelter.apartmentNo\")}\n                error={errors?.advancedHost?.apartmentNumber}\n                rules={{\n                  required: false,\n                }}\n              />\n            </View>\n          </View>\n        </SectionContent>\n      </CompositionSection>\n\n      <CompositionSection\n        padding={[35, 30, 8, 30]}\n        backgroundColor=\"#F5F4F4\"\n        zIndex={2}\n      >\n        <SectionContent>\n          <View\n            style={{\n              zIndex: 100,\n            }}\n          >\n            <InputControlLabel>{t(\"hostAdd.type\")}</InputControlLabel>\n            <FormDropdown\n              zIndex={12}\n              data={accomodationTypeDropdownFields.map(\n                ({ label, ...rest }) => ({\n                  label: t(label),\n                  ...rest,\n                })\n              )}\n              name=\"advancedHost.accommodationType\"\n              placeholder={t(\"forms.chooseFromList\")}\n              rules={{\n                required: true,\n              }}\n              error={errors?.advancedHost?.accommodationType}\n              errorMsg={t(\"hostAdd.errors.type\")}\n            />\n          </View>\n\n          {shouldIncludeHostTypeField && (\n            <View\n              style={{\n                zIndex: 1,\n              }}\n            >\n              <InputControlLabel>{t(\"hostAdd.hostType\")}</InputControlLabel>\n              <FormDropdown\n                data={(\n                  Object.keys(HostType) as Array<keyof typeof HostType>\n                ).map((key: keyof typeof HostType) => ({\n                  value: HostType[key],\n                  label: t(`hostAdd.hostTypeLabel.${String(HostType[key])}`),\n                }))}\n                name=\"advancedHost.hostType\"\n                placeholder={t(\"forms.chooseFromList\")}\n                rules={{\n                  required: shouldIncludeHostTypeField,\n                }}\n                error={errors?.advancedHost?.hostType}\n                errorMsg={t(\"hostAdd.errors.hostType\")}\n                zIndex={11}\n              />\n            </View>\n          )}\n\n          {/* \n          <View>\n            <InputControlLabel>\n              {t(\"others:forms.createShelter.addPhotoHeader\")}\n            </InputControlLabel>\n            <FormUpload\n              label={t(\"others:forms.generic.addPhoto\")}\n              name=\"advancedHost.uploadedPhotos\"\n            />\n          </View> */}\n\n          <View>\n            <InputControlLabel>{t(\"hostAdd.guestCount\")}</InputControlLabel>\n            <FormNumericInput\n              name=\"advancedHost.guestCount\"\n              rules={{\n                required: true,\n              }}\n              min={1}\n              error={errors?.advancedHost?.guestCount}\n              errorMsg={t(\"hostAdd.errors.guestCount\")}\n            />{\" \"}\n          </View>\n\n          <View>\n            <InputControlLabel>\n              {t(\"refugeeAddForm.overnightDurationLabel\")}\n            </InputControlLabel>\n            <FormRadioGroup\n              name={t(\"advancedHost.accommodationTime\")}\n              rules={{\n                required: true,\n              }}\n              data={OVERNIGHT_DURATION_TYPES.map(({ label, ...rest }) => ({\n                label: t(label),\n                ...rest,\n              }))}\n              error={errors?.advancedHost?.accommodationTime}\n              errorMsg={t(\"hostAdd.errors.accommodationTime\")}\n            />\n          </View>\n        </SectionContent>\n      </CompositionSection>\n\n      <CompositionSection\n        padding={[35, 30, 8, 30]}\n        header={t(\"hostAdd.additionalInformationHeader\")}\n        zIndex={1}\n      >\n        <SectionContent>\n          <View>\n            <InputControlLabel>{t(\"hostAdd.nationality\")}</InputControlLabel>\n            <FormRadioGroup\n              name=\"advancedHost.nationality\"\n              rules={{\n                required: true,\n              }}\n              data={[\n                { label: t(\"hostAdd.ukraine\"), value: Nationality.UKRAINIAN },\n                { label: t(\"hostAdd.any\"), value: Nationality.ANY },\n              ]}\n              errorMsg={t(\"hostAdd.errors.nationalityError\")}\n            />\n          </View>\n\n          <View\n            style={{\n              zIndex: 1,\n            }}\n          >\n            <InputControlLabel>\n              {t(\"others:forms.createShelter.groupsHostAccepts\")}\n            </InputControlLabel>\n            <FormDropdown<string>\n              multiSelect\n              zIndex={11}\n              data={GROUP_RELATIONS.map(({ label, value }) => ({\n                label: t(label),\n                value,\n              }))}\n              name=\"advancedHost.groupsTypes\"\n              placeholder={t(\"forms.chooseFromListMulti\")}\n              rules={{\n                required: true,\n              }}\n              error={errors?.advancedHost?.groupsTypes}\n              errorMsg={t(\"refugeeAddForm.errors.groupRelations\")}\n            />\n          </View>\n\n          <FormButtonsVertical\n            data={additionalHostsFeats.map(({ label, ...rest }) => ({\n              label: t(label),\n              ...rest,\n            }))}\n          />\n        </SectionContent>\n      </CompositionSection>\n\n      <CompositionSection padding={[35, 30, 8, 30]} backgroundColor=\"#F5F4F4\">\n        <FormCheckbox\n          rules={{\n            required: false,\n          }}\n          value={volunteerVisitAcceptance}\n          name=\"advancedHost.volunteerVisitAcceptance\"\n          label={t(\"hostAdd.volunteerVisitAcceptance\")}\n        />\n      </CompositionSection>\n      <CompositionSection padding={[0, 30, 31, 30]} backgroundColor=\"#F5F4F4\">\n        <InputControl>\n          <ButtonCta\n            onPress={handleSubmit(onSubmit)}\n            anchor={getSubmitButtonTitle}\n            style={styles.addButton}\n          />\n          {isSubmitted && !isValid && !isSubmitLoading && !isSubmitSuccess && (\n            <View style={styles.errorWrapper}>\n              <InputError>\n                {t(\"refugeeAddForm.addButtomErrorMessage\")}\n              </InputError>\n            </View>\n          )}\n          {isSubmitted && (submitRequstState.error as Error)?.message && (\n            <View style={styles.errorWrapper}>\n              <InputError>\n                {(submitRequstState.error as Error).message}\n              </InputError>\n            </View>\n          )}\n        </InputControl>\n      </CompositionSection>\n    </FormProvider>\n  );\n}\n\nconst styles = StyleSheet.create({\n  addButton: {\n    alignSelf: \"flex-end\",\n    paddingHorizontal: 20,\n    cursor: \"pointer\",\n  },\n  errorWrapper: {\n    marginTop: 5,\n    alignSelf: \"flex-end\",\n  },\n  formWrapper: {\n    maxWidth: \"500px\",\n    width: \"100%\",\n  },\n  tooltipText: { marginHorizontal: 10 },\n  flexInputs: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    gap: \"0px 15px\",\n  },\n  inputWrapper: {\n    flexShrink: 1,\n  },\n});\n"]},"metadata":{},"sourceType":"module"}