{"ast":null,"code":"import { useTranslation } from \"next-i18next\";\nimport { useRouter } from \"next/router\";\nimport \"react-loading-skeleton/dist/skeleton.css\";\nimport React from \"react\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport { Routes } from \"../../consts/router\";\nimport EditOfferButton from \"../EditOfferOptions/EditOfferButton\";\nimport { TargetTypes } from \"../EditOfferOptions/EditOfferButton/types\";\nimport { Error } from \"../Inputs/style\";\nimport StatusBadge from \"../StatusBadge\";\nimport { AnnouncementHighlights } from \"./AnnouncementHighlights\";\nimport CardAdd from \"./CardAdd\";\nimport DetailsLink from \"./DetailsLink\";\nimport { LoadingCards } from \"./LoadingCards\";\nimport { HeaderWrapper, MoreButtonWrapper, OfferTitle, Placeholder, SupportCard, SupportWrapper, TextWrapper, Title, StatusBadgeWrapper } from \"./style\";\nexport default function ProvidingSupport(_ref) {\n  var offers = _ref.offers,\n      isLoading = _ref.isLoading,\n      isError = _ref.isError,\n      readonly = _ref.readonly;\n\n  var _useTranslation = useTranslation(),\n      t = _useTranslation.t;\n\n  if (!isLoading && (isError || !offers)) {\n    return React.createElement(SupportWrapper, null, React.createElement(Error, null, t(\"could_not_fetch_offers_list\")));\n  }\n\n  return React.createElement(SupportWrapper, null, React.createElement(Title, null, t(\"others:desktop.yourOffers\")), React.createElement(Content, {\n    isLoading: isLoading,\n    offers: offers,\n    readonly: readonly\n  }));\n}\n\nvar Content = function Content(_ref2) {\n  var isLoading = _ref2.isLoading,\n      readonly = _ref2.readonly,\n      offers = _ref2.offers;\n\n  if (isLoading || offers === undefined) {\n    return React.createElement(LoadingCards, {\n      count: 3,\n      showImage: true\n    });\n  }\n\n  return React.createElement(React.Fragment, null, React.createElement(Offers, {\n    offers: offers,\n    readonly: readonly\n  }), React.createElement(NoOffer, {\n    readonly: readonly\n  }));\n};\n\nvar NoOffer = function NoOffer(_ref3) {\n  var readonly = _ref3.readonly;\n\n  var _useTranslation2 = useTranslation(\"desktop\"),\n      t = _useTranslation2.t;\n\n  var router = useRouter();\n  return React.createElement(CardAdd, {\n    label: t(\"others:common.actions.addOffer\"),\n    readonly: readonly,\n    onPress: function onPress() {\n      if (!readonly) router.push(Routes.HOST);\n    }\n  });\n};\n\nvar Offers = function Offers(_ref4) {\n  var offers = _ref4.offers,\n      readonly = _ref4.readonly;\n\n  var _useTranslation3 = useTranslation(),\n      t = _useTranslation3.t;\n\n  return React.createElement(React.Fragment, null, offers.map(function (o) {\n    var notYetReady = o.clientOnly;\n    return React.createElement(SupportCard, {\n      key: o.id\n    }, React.createElement(HeaderWrapper, null, React.createElement(MoreButtonWrapper, null, notYetReady ? React.createElement(ActivityIndicator, null) : React.createElement(EditOfferButton, {\n      targetID: o.id,\n      targetType: TargetTypes.HOSTS,\n      matchID: o.matchId,\n      targetStatusType: o.type\n    })), React.createElement(Placeholder, null), React.createElement(TextWrapper, null, React.createElement(OfferTitle, null, t(\"common:staticValues.accommodationTypes.\" + o.name)), React.createElement(StatusBadgeWrapper, null, React.createElement(StatusBadge, {\n      state: o.type\n    })))), React.createElement(AnnouncementHighlights, {\n      beds: o.beds,\n      city: o == null ? void 0 : o.closestCity,\n      duration: o.duration\n    }), !readonly && !notYetReady && React.createElement(DetailsLink, {\n      href: {\n        pathname: Routes.DETAILS,\n        query: {\n          id: o.id,\n          type: \"offer\"\n        }\n      }\n    }));\n  }));\n};","map":{"version":3,"sources":["/Users/stanislav.kovalov/Desktop/uasos/apps/next/src/components/SupportSection/ProvidingSupport.tsx"],"names":["useTranslation","useRouter","React","Routes","EditOfferButton","TargetTypes","Error","StatusBadge","AnnouncementHighlights","CardAdd","DetailsLink","LoadingCards","HeaderWrapper","MoreButtonWrapper","OfferTitle","Placeholder","SupportCard","SupportWrapper","TextWrapper","Title","StatusBadgeWrapper","ProvidingSupport","offers","isLoading","isError","readonly","t","Content","undefined","NoOffer","router","push","HOST","Offers","map","o","notYetReady","clientOnly","id","HOSTS","matchId","type","name","beds","closestCity","duration","pathname","DETAILS","query"],"mappings":"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","sourcesContent":["/* eslint-disable @next/next/no-img-element */\nimport { useTranslation } from \"next-i18next\";\nimport { useRouter } from \"next/router\";\nimport \"react-loading-skeleton/dist/skeleton.css\";\nimport React from \"react\";\nimport { ActivityIndicator } from \"react-native\";\nimport { Routes } from \"../../consts/router\";\nimport EditOfferButton from \"../EditOfferOptions/EditOfferButton\";\nimport { TargetTypes } from \"../EditOfferOptions/EditOfferButton/types\";\nimport { Error } from \"../Inputs/style\";\nimport StatusBadge from \"../StatusBadge\";\nimport { AnnouncementHighlights } from \"./AnnouncementHighlights\";\nimport CardAdd from \"./CardAdd\";\nimport DetailsLink from \"./DetailsLink\";\nimport { LoadingCards } from \"./LoadingCards\";\nimport {\n  HeaderWrapper,\n  MoreButtonWrapper,\n  OfferTitle,\n  Placeholder,\n  SupportCard,\n  SupportWrapper,\n  TextWrapper,\n  Title,\n  StatusBadgeWrapper,\n} from \"./style\";\nimport { Offer } from \"./types\";\n\ntype ProvidingSupportProps = {\n  offers?: Offer[];\n  isError: boolean;\n  isLoading: boolean;\n  readonly: boolean;\n};\n\nexport default function ProvidingSupport({\n  offers,\n  isLoading,\n  isError,\n  readonly,\n}: ProvidingSupportProps) {\n  const { t } = useTranslation();\n\n  if (!isLoading && (isError || !offers)) {\n    return (\n      <SupportWrapper>\n        <Error>{t(\"could_not_fetch_offers_list\")}</Error>\n      </SupportWrapper>\n    );\n  }\n\n  return (\n    <SupportWrapper>\n      <Title>{t(\"others:desktop.yourOffers\")}</Title>\n      <Content isLoading={isLoading} offers={offers} readonly={readonly} />\n    </SupportWrapper>\n  );\n}\n\nconst Content = ({\n  isLoading,\n  readonly,\n  offers,\n}: {\n  isLoading: boolean;\n  readonly: boolean;\n  offers?: Offer[];\n}) => {\n  if (isLoading || offers === undefined) {\n    return <LoadingCards count={3} showImage={true} />;\n  }\n\n  return (\n    <>\n      <Offers offers={offers} readonly={readonly} />\n      <NoOffer readonly={readonly} />\n    </>\n  );\n};\n\nconst NoOffer = ({ readonly }: { readonly: boolean }) => {\n  const { t } = useTranslation(\"desktop\");\n\n  const router = useRouter();\n  return (\n    <CardAdd\n      label={t(\"others:common.actions.addOffer\")}\n      readonly={readonly}\n      onPress={() => {\n        if (!readonly) router.push(Routes.HOST);\n      }}\n    />\n  );\n};\n\nconst Offers = ({\n  offers,\n  readonly,\n}: {\n  offers: Offer[];\n  readonly: boolean;\n}) => {\n  const { t } = useTranslation();\n\n  return (\n    <>\n      {offers.map((o) => {\n        const notYetReady = o.clientOnly;\n\n        return (\n          <SupportCard key={o.id}>\n            <HeaderWrapper>\n              <MoreButtonWrapper>\n                {notYetReady ? (\n                  <ActivityIndicator />\n                ) : (\n                  <EditOfferButton\n                    targetID={o.id}\n                    targetType={TargetTypes.HOSTS}\n                    matchID={o.matchId}\n                    targetStatusType={o.type}\n                  />\n                )}\n              </MoreButtonWrapper>\n\n              <Placeholder />\n              {/* \n            <ImageWrapper>\n              <img\n                src={o.imageUrl}\n                alt=\"Announcement image\"\n                width={80}\n                height={80}\n                style={{ borderRadius: 4 }}\n              />\n            </ImageWrapper> */}\n              <TextWrapper>\n                <OfferTitle>\n                  {t(`common:staticValues.accommodationTypes.${o.name}`)}\n                </OfferTitle>\n                <StatusBadgeWrapper>\n                  <StatusBadge state={o.type} />\n                </StatusBadgeWrapper>\n              </TextWrapper>\n            </HeaderWrapper>\n\n            {/* {o.matchedRequest ? (\n            <MetchedInfo\n              name={o.matchedRequest.name}\n              email={o.matchedRequest.email}\n              phone_num={o.matchedRequest.phone_num}\n            />\n          ) : ( */}\n            <AnnouncementHighlights\n              beds={o.beds}\n              city={o?.closestCity}\n              duration={o.duration}\n            />\n            {/* )} */}\n            {!readonly && !notYetReady && (\n              <DetailsLink\n                href={{\n                  pathname: Routes.DETAILS,\n                  query: { id: o.id, type: \"offer\" },\n                }}\n              />\n            )}\n          </SupportCard>\n        );\n      })}\n    </>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}