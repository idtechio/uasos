{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport { getFirebaseToken } from \"./getFirebaseToken\";\nexport default function updateGuestToApi(guest) {\n  var token;\n  return _regeneratorRuntime.async(function updateGuestToApi$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return _regeneratorRuntime.awrap(getFirebaseToken());\n\n        case 2:\n          token = _context.sent;\n          return _context.abrupt(\"return\", fetch(process.env.NEXT_PUBLIC_DOMAIN + \"api/guests/edit\", {\n            method: \"post\",\n            body: JSON.stringify(guest),\n            headers: {\n              \"content-type\": \"application/json\",\n              Authorization: \"Bearer \" + token\n            }\n          }).then(function (res) {\n            if (res.status === 200) {\n              return true;\n            }\n\n            throw new Error(\"Couldn't add guest to api\");\n          }));\n\n        case 4:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, null, Promise);\n}","map":{"version":3,"sources":["/Users/stanislav.kovalov/Desktop/uasos/apps/next/src/helpers/updateGuestToApi.ts"],"names":["getFirebaseToken","updateGuestToApi","guest","token","fetch","process","env","NEXT_PUBLIC_DOMAIN","method","body","JSON","stringify","headers","Authorization","then","res","status","Error"],"mappings":";AACA,SAASA,gBAAT;AAEA,eAAe,SAAeC,gBAAf,CAAgCC,KAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CACOF,gBAAgB,EADvB;;AAAA;AACPG,UAAAA,KADO;AAAA,2CAENC,KAAK,CAACC,OAAO,CAACC,GAAR,CAAYC,kBAAZ,GAAiC,iBAAlC,EAAqD;AAC/DC,YAAAA,MAAM,EAAE,MADuD;AAE/DC,YAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeT,KAAf,CAFyD;AAG/DU,YAAAA,OAAO,EAAE;AACP,8BAAgB,kBADT;AAEPC,cAAAA,aAAa,cAAYV;AAFlB;AAHsD,WAArD,CAAL,CAOJW,IAPI,CAOC,UAAUC,GAAV,EAAe;AACrB,gBAAIA,GAAG,CAACC,MAAJ,KAAe,GAAnB,EAAwB;AACtB,qBAAO,IAAP;AACD;;AACD,kBAAM,IAAIC,KAAJ,CAAU,2BAAV,CAAN;AACD,WAZM,CAFM;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA","sourcesContent":["import { GuestProps } from \"../../pages/api/guests/edit\";\nimport { getFirebaseToken } from \"./getFirebaseToken\";\n\nexport default async function updateGuestToApi(guest: GuestProps) {\n  const token = await getFirebaseToken();\n  return fetch(process.env.NEXT_PUBLIC_DOMAIN + \"api/guests/edit\", {\n    method: \"post\",\n    body: JSON.stringify(guest),\n    headers: {\n      \"content-type\": \"application/json\",\n      Authorization: `Bearer ${token}`,\n    },\n  }).then(function (res) {\n    if (res.status === 200) {\n      return true;\n    }\n    throw new Error(\"Couldn't add guest to api\");\n  });\n}\n"]},"metadata":{},"sourceType":"module"}