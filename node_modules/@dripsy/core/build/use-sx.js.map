{"version":3,"file":"use-sx.js","sourceRoot":"","sources":["../src/use-sx.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,WAAW,EAAE,MAAM,EAAE,MAAM,OAAO,CAAA;AAC3C,OAAO,EAAE,cAAc,EAAE,MAAM,oBAAoB,CAAA;AAEnD,OAAO,EAAE,GAAG,EAAE,MAAM,OAAO,CAAA;AAC3B,OAAO,EAAE,kBAAkB,EAAE,MAAM,0BAA0B,CAAA;AAC7D,OAAO,UAAU,MAAM,aAAa,CAAA;AAIpC,MAAM,UAAU,KAAK;IACnB,MAAM,EAAE,KAAK,EAAE,GAAG,cAAc,EAAE,CAAA;IAClC,MAAM,UAAU,GAAG,kBAAkB,EAAE,CAAA;IAEvC,MAAM,KAAK,GAAG,MAAM,CAAiC,EAAE,CAAC,CAAA;IAExD,OAAO,WAAW,CAChB,CAAC,EAAU,EAAE,EAAE,QAAQ,KAA4C,EAAE,EAAE,EAAE;QACvE,MAAM,WAAW,GAAG,GAAG,CACrB,EAAE,EACF,UAAU,CACX,CAAC;YACA,KAAK;YACL,QAAQ;SACT,CAAC,CAAA;QACF,MAAM,IAAI,GAAG,UAAU,CAAC,WAAW,CAAC,CAAA;QACpC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;YACxB,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,WAAW,CAAA;SAClC;QACD,OAAO,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,CAAA;IAC5B,CAAC,EACD,CAAC,UAAU,EAAE,KAAK,CAAC,CACpB,CAAA;AACH,CAAC","sourcesContent":["import { useCallback, useRef } from 'react'\nimport { useDripsyTheme } from './use-dripsy-theme'\nimport { SxProp } from './css/types'\nimport { css } from './css'\nimport { useBreakpointIndex } from './css/breakpoint-context'\nimport stableHash from 'stable-hash'\nimport { DripsyFinalTheme } from './declarations'\nimport { StyleProp } from 'react-native'\n\nexport function useSx() {\n  const { theme } = useDripsyTheme()\n  const breakpoint = useBreakpointIndex()\n\n  const cache = useRef<Record<string, StyleProp<any>>>({})\n\n  return useCallback(\n    (sx: SxProp, { themeKey }: { themeKey?: keyof DripsyFinalTheme } = {}) => {\n      const themedStyle = css(\n        sx,\n        breakpoint\n      )({\n        theme,\n        themeKey,\n      })\n      const hash = stableHash(themedStyle)\n      if (!cache.current[hash]) {\n        cache.current[hash] = themedStyle\n      }\n      return cache.current[hash]\n    },\n    [breakpoint, theme]\n  )\n}\n"]}