{"version":3,"file":"ExpoInterpolateHtmlPlugin.js","sourceRoot":"","sources":["../../src/plugins/ExpoInterpolateHtmlPlugin.ts"],"names":[],"mappings":";;;;;AACA,kGAAkF;AAElF,gCAAmD;AAGnD;;;;GAIG;AACH,MAAqB,qBAAsB,SAAQ,+BAA6B;;AAAhF,wCAmBC;AAlBQ,6BAAO,GAAG,CACf,GAAuE,EACvE,iBAAoC,EACb,EAAE;;IACzB,MAAM,MAAM,GAAG,GAAG,CAAC,MAAM,IAAI,eAAS,CAAC,GAAG,CAAC,CAAC;IAC5C,MAAM,EAAE,UAAU,EAAE,GAAG,oBAAc,CAAC,GAAG,CAAC,CAAC;IAE3C,aAAa;IACb,OAAO,IAAI,qBAAqB,CAAC,iBAAiB,EAAE;QAClD,cAAc,EAAE,UAAU;QAC1B,2EAA2E;QAC3E,SAAS,EAAE,MAAA,MAAM,CAAC,GAAG,0CAAE,IAAI;QAC3B,aAAa,EAAE,MAAA,MAAM,CAAC,GAAG,0CAAE,IAAI;QAC/B,oDAAoD;QACpD,SAAS,EAAE,2hBAA2hB;QACtiB,OAAO,EAAE,MAAM;KAChB,CAAC,CAAC;AACL,CAAC,CAAC","sourcesContent":["import HtmlWebpackPlugin from 'html-webpack-plugin';\nimport OriginalInterpolateHtmlPlugin from 'react-dev-utils/InterpolateHtmlPlugin';\n\nimport { getConfig, getPublicPaths } from '../env';\nimport { Environment } from '../types';\n\n/**\n * Add variables to the `index.html`.\n *\n * @category plugins\n */\nexport default class InterpolateHtmlPlugin extends OriginalInterpolateHtmlPlugin {\n  static fromEnv = (\n    env: Pick<Environment, 'mode' | 'config' | 'locations' | 'projectRoot'>,\n    htmlWebpackPlugin: HtmlWebpackPlugin\n  ): InterpolateHtmlPlugin => {\n    const config = env.config || getConfig(env);\n    const { publicPath } = getPublicPaths(env);\n\n    // @ts-ignore\n    return new InterpolateHtmlPlugin(htmlWebpackPlugin, {\n      WEB_PUBLIC_URL: publicPath,\n      // @ts-ignore Type 'string | undefined' is not assignable to type 'string'.\n      WEB_TITLE: config.web?.name,\n      LANG_ISO_CODE: config.web?.lang,\n      // These are for legacy ejected web/index.html files\n      NO_SCRIPT: `<form action=\"\" style=\"background-color:#fff;position:fixed;top:0;left:0;right:0;bottom:0;z-index:9999;\"><div style=\"font-size:18px;font-family:Helvetica,sans-serif;line-height:24px;margin:10%;width:80%;\"> <p>Oh no! It looks like JavaScript is not enabled in your browser.</p> <p style=\"margin:20px 0;\"> <button type=\"submit\" style=\"background-color: #4630EB; border-radius: 100px; border: none; box-shadow: none; color: #fff; cursor: pointer; font-weight: bold; line-height: 20px; padding: 6px 16px;\">Reload</button> </p> </div> </form>`,\n      ROOT_ID: 'root',\n    });\n  };\n}\n"]}